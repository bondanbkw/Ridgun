<!DOCTYPE html>
<html>
    <script src="https://unpkg.com/lnpay-js@^0.1/dist/lnpay.min.js"></script>
<body>



</body>

<script>

    //fungsi get
    function getUrlVars(param=null)
{
	if(param !== null)
	{
		var vars = [], hash;
		var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
		for(var i = 0; i < hashes.length; i++)
		{
			hash = hashes[i].split('=');
			vars.push(hash[0]);
			vars[hash[0]] = hash[1];
		}
		return vars[param];
	} 
	else 
	{
		return null;
	}
}

var jumlah = getUrlVars("value");


    let publicApiKey = 'pak_ek7F15IS7dkPmWYjIr3hrhb3NCPTevi';
    let walletAccessKey = 'waka_s6ybGvMN1BOKRHpV3kz8sZos';
    LNPay.Initialize(publicApiKey);

    //GenerateInvoice
    let invoiceParams = {"num_satoshis":jumlah,"memo":"RGBOT"};
    let myWallet = new LNPayWallet(walletAccessKey);
        myWallet.createInvoice(invoiceParams,function(result) {
        console.log(result);
        document.write(result.payment_request);
        });

</script>

</html>